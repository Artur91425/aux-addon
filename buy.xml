<Ui xsi:schemaLocation="http://www.blizzard.com/wow/ui/">

	<Script file="buy.lua"/> 

	<Frame>
      <Scripts> 
			<OnUpdate> 
				Aux.buy.onupdate()
			</OnUpdate> 
		</Scripts> 
	</Frame>
	
	<Button name="SearchListItemTemplate" inherits="ListItemTemplate" virtual="true">
		<Scripts>
			local scrollFrame
			local index
			<OnLoad>
				this:RegisterForClicks("LeftButtonUp", "RightButtonUp")
			</OnLoad>
			<OnEnter>
				scrollFrame = getglobal(this:GetParent():GetName().."ScrollFrame")
				index = this:GetID() + FauxScrollFrame_GetOffset(scrollFrame)
				AuxBuyEntry_OnEnter(index)
			</OnEnter>
			<OnLeave>
				GameTooltip:Hide()
				ResetCursor()
				scrollFrame = nil
				index = nil
			</OnLeave>
			<OnClick>
				AuxBuyEntry_OnClick(index)
			</OnClick>
			<OnUpdate>
				if index then
					if IsControlKeyDown() then
						ShowInspectCursor()
					elseif IsAltKeyDown() then
						SetCursor("BUY_CURSOR")
					else
						ResetCursor()
					end
				end
			</OnUpdate>
		</Scripts>
		<HighlightTexture name="$parentHighlight" file="Interface\HelpFrame\HelpFrameButton-Highlight" alphaMode="ADD">
			<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor><Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
			<TexCoords left="0" right="1.0" top="0" bottom="0.578125"/>
		</HighlightTexture>
	</Button>
	
	<Frame name="AuxBuyTemplate" virtual="true" hidden="true">
		<Size><AbsDimension x="694" y="447"/></Size>
		<Anchors><Anchor point="TOPLEFT"/></Anchors>	
		<Layers>
			<Layer level="BACKGROUND">
				<FontString inherits="GameFontNormal" text="Aux Buy">
					<Anchors><Anchor point="TOP"><Offset><AbsDimension x="20" y="-18"/></Offset></Anchor></Anchors>
				</FontString>

				<FontString name="AuxBuyMessage" inherits="GameFontNormal">
					<Anchors><Anchor point="TOP"><Offset><AbsDimension x="70" y="-120"/></Offset></Anchor></Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Frame name="AuxBuyList" inherits="ListTemplate">
				<Size><AbsDimension x="781" y="334"/></Size>
				<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="18" y="-74"/></Offset></Anchor></Anchors>
				<Scripts>
					<OnLoad>
						Aux.list.on_load(this)
					</OnLoad>
				</Scripts>
				<Frames>
					<Frame>
						<Size><AbsDimension x="40" y="43"/></Size>
						<Anchors>
							<Anchor point="TOPLEFT"><Offset><AbsDimension x="783" y="0"/></Offset></Anchor>
						</Anchors>
						<Backdrop bgFile="Interface/AuctionFrame/UI-AuctionFrame-FilterBg"></Backdrop>
					</Frame>
					<Button name="$parentItem1" inherits="SearchListItemTemplate" id="1">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentColumn1Sort" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="4" y="-4"/></Offset></Anchor></Anchors>
					</Button>
					<Frame>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parentItem1"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
							<Anchor point="BOTTOMRIGHT" relativeTo="$parentItem1"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
						</Anchors>
						<Backdrop bgFile="Interface/Tooltips/UI-Tooltip-Background"><Color r="1" g="1" b="1" a="0.2"/></Backdrop>
					</Frame>
					<Button name="$parentItem2" inherits="SearchListItemTemplate" id="2">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem1" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Button name="$parentItem3" inherits="SearchListItemTemplate" id="3">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem2" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Frame>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parentItem3"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
							<Anchor point="BOTTOMRIGHT" relativeTo="$parentItem3"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
						</Anchors>
						<Backdrop bgFile="Interface/Tooltips/UI-Tooltip-Background"><Color r="1" g="1" b="1" a="0.2"/></Backdrop>
					</Frame>
					<Button name="$parentItem4" inherits="SearchListItemTemplate" id="4">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem3" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Button name="$parentItem5" inherits="SearchListItemTemplate" id="5">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem4" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Frame>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parentItem5"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
							<Anchor point="BOTTOMRIGHT" relativeTo="$parentItem5"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
						</Anchors>
						<Backdrop bgFile="Interface/Tooltips/UI-Tooltip-Background"><Color r="1" g="1" b="1" a="0.2"/></Backdrop>
					</Frame>
					<Button name="$parentItem6" inherits="SearchListItemTemplate" id="6">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem5" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Button name="$parentItem7" inherits="SearchListItemTemplate" id="7">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem6" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Frame>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parentItem7"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
							<Anchor point="BOTTOMRIGHT" relativeTo="$parentItem7"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
						</Anchors>
						<Backdrop bgFile="Interface/Tooltips/UI-Tooltip-Background"><Color r="1" g="1" b="1" a="0.2"/></Backdrop>
					</Frame>
					<Button name="$parentItem8" inherits="SearchListItemTemplate" id="8">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem7" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Button name="$parentItem9" inherits="SearchListItemTemplate" id="9">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem8" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Frame>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parentItem9"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
							<Anchor point="BOTTOMRIGHT" relativeTo="$parentItem9"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
						</Anchors>
						<Backdrop bgFile="Interface/Tooltips/UI-Tooltip-Background"><Color r="1" g="1" b="1" a="0.2"/></Backdrop>
					</Frame>
					<Button name="$parentItem10" inherits="SearchListItemTemplate" id="10">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem9" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Button name="$parentItem11" inherits="SearchListItemTemplate" id="11">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem10" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Frame>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parentItem11"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
							<Anchor point="BOTTOMRIGHT" relativeTo="$parentItem11"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
						</Anchors>
						<Backdrop bgFile="Interface/Tooltips/UI-Tooltip-Background"><Color r="1" g="1" b="1" a="0.2"/></Backdrop>
					</Frame>
					<Button name="$parentItem12" inherits="SearchListItemTemplate" id="12">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem11" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Button name="$parentItem13" inherits="SearchListItemTemplate" id="13">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem12" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Frame>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parentItem13"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
							<Anchor point="BOTTOMRIGHT" relativeTo="$parentItem13"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
						</Anchors>
						<Backdrop bgFile="Interface/Tooltips/UI-Tooltip-Background"><Color r="1" g="1" b="1" a="0.2"/></Backdrop>
					</Frame>
					<Button name="$parentItem14" inherits="SearchListItemTemplate" id="14">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem13" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Button name="$parentItem15" inherits="SearchListItemTemplate" id="15">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem14" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Frame>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parentItem15"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
							<Anchor point="BOTTOMRIGHT" relativeTo="$parentItem15"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
						</Anchors>
						<Backdrop bgFile="Interface/Tooltips/UI-Tooltip-Background"><Color r="1" g="1" b="1" a="0.2"/></Backdrop>
					</Frame>
					<Button name="$parentItem16" inherits="SearchListItemTemplate" id="16">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem15" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Button name="$parentItem17" inherits="SearchListItemTemplate" id="17">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem16" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Frame>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parentItem17"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
							<Anchor point="BOTTOMRIGHT" relativeTo="$parentItem17"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
						</Anchors>
						<Backdrop bgFile="Interface/Tooltips/UI-Tooltip-Background"><Color r="1" g="1" b="1" a="0.2"/></Backdrop>
					</Frame>
					<Button name="$parentItem18" inherits="SearchListItemTemplate" id="18">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem17" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Button name="$parentItem19" inherits="SearchListItemTemplate" id="19">
						<Anchors><Anchor point="TOPLEFT" relativeTo="$parentItem18" relativePoint="BOTTOMLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
					</Button>
					<Frame>
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="$parentItem19"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
							<Anchor point="BOTTOMRIGHT" relativeTo="$parentItem19"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor>
						</Anchors>
						<Backdrop bgFile="Interface/Tooltips/UI-Tooltip-Background"><Color r="1" g="1" b="1" a="0.2"/></Backdrop>
					</Frame>
				</Frames>
			</Frame>
			
			<Frame name="AuxBuyFilters">
				<Size><AbsDimension x="1" y="1"/></Size>
				<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="80" y="-46"/></Offset></Anchor></Anchors>
				<Frames>
					<EditBox name="AuxBuyNameInputBox" autoFocus="false" inherits="InputBoxTemplate">
						<Size><AbsDimension x="180" y="22"/></Size>
						<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="0" y="0"/></Offset></Anchor></Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<FontString inherits="GameFontHighlightSmall" text="Name">
									<Anchors>
										<Anchor point="TOPLEFT">
											<Offset>
												<AbsDimension x="-3" y="9"/>
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Scripts>
							<OnChar>
								Aux.util.item_name_autocomplete()
							</OnChar>
							<OnEnterPressed>
								this:ClearFocus()
								Aux.buy.SearchButton_onclick()
							</OnEnterPressed>
						</Scripts>
					</EditBox>
					
					<CheckButton name="AuxBuyExactCheckButton" inherits="UICheckButtonTemplate" checked="true">
						<Size><AbsDimension x="22" y="22"/></Size>
						<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="200" y="0" /></Offset></Anchor></Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<FontString inherits="GameFontHighlightSmall" text="Exact">
									<Anchors>
										<Anchor point="TOPLEFT">
											<Offset>
												<AbsDimension x="0" y="9"/>
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
					</CheckButton>
												
					<Frame name="AuxBuyCategoryDropDown" inherits="UIDropDownMenuTemplate">
						<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="235" y="3" /></Offset></Anchor></Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<FontString inherits="GameFontHighlightSmall" text="Category">
									<Anchors>
										<Anchor point="TOPLEFT">
											<Offset>
												<AbsDimension x="20" y="8"/>
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>						
						<Scripts>
							<OnLoad>
								UIDropDownMenu_Initialize(this, AuxBuyCategoryDropDown_Initialize)
								UIDropDownMenu_SetWidth(200)
							</OnLoad>
							<OnShow>
								UIDropDownMenu_Initialize(this, AuxBuyCategoryDropDown_Initialize)
							</OnShow>
						</Scripts>
					</Frame>
					
					<CheckButton name="AuxBuyUsableCheckButton" inherits="UICheckButtonTemplate">
						<Size><AbsDimension x="22" y="22"/></Size>
						<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="500" y="0" /></Offset></Anchor></Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<FontString inherits="GameFontHighlightSmall" text="Usable">
									<Anchors>
										<Anchor point="TOPLEFT">
											<Offset>
												<AbsDimension x="0" y="9"/>
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
					</CheckButton>					
					
					<EditBox name="AuxBuyTooltipInputBox" autoFocus="false" inherits="InputBoxTemplate">
						<Size><AbsDimension x="145" y="22"/></Size>
						<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="557" y="0"/></Offset></Anchor></Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<FontString inherits="GameFontHighlightSmall" text="Tooltip">
									<Anchors>
										<Anchor point="TOPLEFT">
											<Offset>
												<AbsDimension x="-3" y="9"/>
											</Offset>
										</Anchor>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>						
						<Scripts>
							<OnEnterPressed>
								AuxBuyTooltipButton_OnClick(this)
							</OnEnterPressed>
						</Scripts>
					</EditBox>
					
					<Frame name="AuxBuyTooltipDropDown" inherits="UIDropDownMenuTemplate">
						<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="555" y="0"/></Offset></Anchor></Anchors>
						<Scripts>
							<OnLoad>
								getglobal(this:GetName().."Left"):Hide()
								getglobal(this:GetName().."Middle"):Hide()
								getglobal(this:GetName().."Right"):Hide()
								getglobal(this:GetName().."Text"):Hide()
								getglobal(this:GetName().."Button"):SetScript("OnClick", Aux.buy.toggle_tooltip_dropdown)
								UIDropDownMenu_Initialize(this, AuxBuyTooltipDropDown_Initialize)
							</OnLoad>
						</Scripts>
					</Frame>
					
					<Button name="AuxBuyTooltipButton" inherits="UIPanelButtonTemplate" text="+">
						<Size><AbsDimension x="22" y="22"/></Size>
						<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="720" y="0"/></Offset></Anchor></Anchors>
						<Scripts>
							<OnClick>
								AuxBuyTooltipButton_OnClick(this)
							</OnClick>
						</Scripts>
					</Button>
					
			<!-- 		<Frame name="AuxBuySlotDropDown" inherits="UIDropDownMenuTemplate">
						<Anchors><Anchor point="LEFT"><Offset><AbsDimension x="500" y="1" /></Offset></Anchor></Anchors>
						<Scripts>
							<OnLoad>
								UIDropDownMenu_Initialize(this, AuxBuySlotDropDown_Initialize)
							</OnLoad>
							<OnShow>
								UIDropDownMenu_Initialize(this, AuxBuySlotDropDown_Initialize)
							</OnShow>
						</Scripts>
					</Frame> -->
				</Frames>
			</Frame>		
            
			<Button name="AuxBuySearchButton" inherits="UIPanelButtonTemplate" text="Search">
				<Size><AbsDimension x="166" y="22"/></Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="51" y="14"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						Aux.buy.SearchButton_onclick()
					</OnClick>
				</Scripts>
			</Button>
			
			<Button name="AuxBuyStopButton" inherits="UIPanelButtonTemplate" text="Stop" hidden="true">
				<Size><AbsDimension x="166" y="22"/></Size>
				<Anchors>
					<Anchor point="BOTTOMRIGHT">
						<Offset>
							<AbsDimension x="51" y="14"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						Aux.buy.StopButton_onclick()
					</OnClick>
				</Scripts>
			</Button>
			
			<Frame name="AuxBuyDialog" frameStrata="FULLSCREEN_DIALOG" toplevel="true" enableMouse="true" hidden="true" movable="true">
				<Size><AbsDimension x="230" y="140" /></Size>		
				<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="300" y="-150"/></Offset></Anchor></Anchors>				
				<Scripts>
					<OnLoad>this:RegisterForDrag("LeftButton")</OnLoad>
					<OnDragStart>this:StartMoving()</OnDragStart>
					<OnDragStop>this:StopMovingOrSizing()</OnDragStop>
				</Scripts>
				<Backdrop bgFile="Interface\CharacterFrame\UI-Party-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
					<BackgroundInsets><AbsInset left="11" right="12" top="12" bottom="11"/></BackgroundInsets>
					<TileSize><AbsValue val="32"/></TileSize>
					<EdgeSize><AbsValue val="32"/></EdgeSize>
				</Backdrop>			
				<Frames>
					<SimpleHTML name="$parentHTML">
						<Size><AbsDimension x="200" y="1" /></Size>		
						<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="30" y="-30"/></Offset></Anchor></Anchors>
						<FontStringHeader1 inherits="GameFontNormalWhite"/>
					</SimpleHTML>
					<Frame name="$parentBid" inherits="MoneyInputFrameTemplate">
						<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="35" y="-60"/></Offset></Anchor></Anchors>
					</Frame>					
					<Frame name="$parentBuyoutPrice" inherits="SmallMoneyFrameTemplate">
						<Anchors><Anchor point="TOPLEFT"><Offset><AbsDimension x="30" y="-60"/></Offset></Anchor></Anchors>
						<Scripts>
							<OnLoad>
								SmallMoneyFrame_OnLoad()
								MoneyFrame_SetType("STATIC")
							</OnLoad>
						</Scripts>
					</Frame>	
					<Button name="$parentActionButton" inherits="UIPanelButtonTemplate" text="Buy" disabled="true">
						<Size><AbsDimension x="85" y="22"/>	</Size>
						<Anchors><Anchor point="BOTTOMLEFT"><Offset><AbsDimension x="20" y="15"/></Offset></Anchor></Anchors>
						<Scripts>
							<OnClick>
								Aux.buy.dialog_action()
							</OnClick>
						</Scripts>
					</Button>
					<Button name="$parentCancelButton" inherits="UIPanelButtonTemplate" text="Cancel">
						<Size><AbsDimension x="85" y="22"/>	</Size>
						<Anchors><Anchor point="BOTTOMRIGHT"><Offset><AbsDimension x="-20" y="15"/></Offset></Anchor></Anchors>
						<Scripts>
							<OnClick>
								Aux.buy.dialog_cancel()
							</OnClick>
						</Scripts>
					</Button>
				</Frames>
			</Frame>
		</Frames>
	</Frame>
</Ui>